---
layout: post
title:  Java Build Tools : Ant, Maven 그리고 Gradle
date:   2021-10-24 00:00:00
categories: java
---

## Build Tools?

1. 빌드 도구는 소스 코드를 컴파일 하고 패키징하여 실행가능한 프로그램으로 만들어주는 자동화 툴 입니다.
   - 작은 프로젝트에서는 빌드 과정을 수동으로 어렵지않게 처리할 수 있지만, 프로젝트 규모가 커져 빌드 대상이 많아지고 의존성이 복잡해지게 되면, 수동으로 이를 처리하는 것은 부담스러운 작업이 되고 리스크를 가지게 됩니다. **빌드 도구를 이용해 이를 자동화함으로써 지속적인 빌드와 배포를 부담없이 수행**할 수 있습니다.

2. 빌드 도구를 이용하면 프로젝트에서 사용하는 외부 라이브러리를 쉽게 관리할 수 있습니다.

   - 모던 빌드 도구들은 설정파일을 이용하여 외부 라이브러리 사용과 관리를 간편하게 해줍니다. 설정파일에 외부 라이브러리 의존성이 명시되어있으면 (종류와 버전, 종속성) 자동으로 라이브러리들을 다운로드 받고 프로젝트에서 사용할 수 있도록 환경을 만들어 줍니다. 

   - 이는 직접 외부 라이브러리를 다운받아 dependency path에 넣고 연결하는 작업을 하지 않아도 되는 편의를 제공하고, 설정 파일만 있다면 동일한 외부 라이브러리들을 손쉽게 import 하고 환경을 구성할 수 있으므로 여러 명의 개발자들이 하나의 프로젝트를 공유하기에 보다 효과적입니다.

   > **외부 라이브러리는 어디에서 가져올까?**
   >
   > => 기본적으로는 빌드 도구의 중앙 respository에서 라이브러리를 가져옵니다. 
   >
   > => 별도의 repository를 구축하여, 해당 repository를 참조할 수도 있습니다. 외부와 네트워크가 단절된 환경이나, 기업에서 라이브러리들을 별도로 관리하는 경우 이와 같은 방법을 적용할 수 있습니다.



## Ant

Ant는 첫번째로 등장한 모던 빌드 도구 입니다.

컴파일, 패키징, 실행하기까지 일련의 작업들을 target으로 표현하여 단계별로 수행합니다.

자동화하여 처리할 수 있는 장점과 낮은 러닝커프로 특별한 어려움 없이 사용할 수 있어서 2000년대에 자바 프로젝트 빌드 도구로 크게 인기를 모았습니다.

Ant는 몇 가지 단점을 가지고 있었습니다.

1. XML형식으로 각각의 빌드 단계를 스크립트로 정의 하여야 해서 프로젝트 규모가 커지게 되면 복잡도가 너무 커져 관리가 어려워지는 문제가 있었습니다.

2. 스크립트가 정형화 되어있지 않아서 관리적 측면에서 좋지 않았습니다.

3. 외부 repository에서 라이브러리를 가져오는 개념이 없어서 개발자는 직접 라이브러리를 다운받고 dependency path를 잡아주어야 했습니다.

   => 이는 이후 Maven의 remote repository 방식을 차용하여 ivy 라는 것을 이용함으로서 의존성 관리를 할 수 있도록 개선되었습니다.



## Maven

Maven은 2004년에 출시되었습니다.

Maven의 목적은 Ant가 가지고 있는 문제점을 보완하고자 하는 것에 있었습니다.

1. remote repository 개념을 적용하여 외부 라이브러리 의존을 쉽고 간편하게 하였습니다.
2. Ant에 반해 정형화된 코드로 여러명의 개발자가 공유하여도 이해하기 쉽고 유지보수가 용이해졌습니다.  
3. 특정한 life cycle을 적용하여 각 빌드 단계를 스크립트로 작성하는 번거로움을 줄였습니다.

그러나 여전히 단점도 가지고 있었습니다.

1. Ant와 동일하게 XML 형식이 가지는 문제점으로, 프로젝트 규모가 커지면 설정파일(pom.xml)이 복잡해져 유지보수에 어려움이 생기는 문제가 있었습니다.
2. Ant의 자유도가 큰 것은 장점이자, 개발자가 더 많은 것을 신경써야하는 단점이었습니다. maven은 반대로 정형화된 틀을 제공하여 개발 편의는 증가하였지만 유연함은 떨어집니다.



> POM - Project Object Model

> pom(pom.xml)은 maven이 프로젝트를 빌드하기 위해 사용하는 설정 파일 입니다. 
>
> pom.xml은 다음 정보를 관리합니다.
>
> - 프로젝트 정보 : 프로젝트의 이름, 개발자 목록, 라이센스 등
> - 빌드 설정 : 소스, 리소스, 라이프 사이클별 실행한 플러그인(goal)등 빌드와 관련된 설정
> - 빌드 환경 : 사용자 환경 별로 달라질 수 있는 프로파일 정보
> - POM연관 정보 : 의존 프로젝트(모듈), 상위 프로젝트, 포함하고 있는 하위 모듈 등 



## Gradle

DLS(도메인 특화 언어)에 대한 관심이 증가하면서, 빌드 도구에도 XML과 같은 범용적인 언어가 아닌 빌드에 특화된 언어를 사용하고자 하는 니즈가 생겨났습니다. 

이러한 니즈가 반영된 것이 Groovy 언어 기반의 Gradle 입니다. 

Gradle은 2012에 출시되었습니다. 단 기간에 커뮤니티에서 주목받게 되었고 구글은 안드로이드의 기본 빌드 도구로 채택하였습니다.



### Gradle의 장점

- Groovy 언어 기반으로 설정 파일을 사용함으로써 빌드 스크립트를 훨씬 간결하고 명확하게 작성할 수 있게 합니다. 

- XML과 달리 스크립트 언어이기 때문에 변수선언, 연산 등의 로직 구현이 가능하여 복잡한 의존관계도 표현 및 동적 빌드가 가능한 장점이 있습니다.

- Incremental Build(증분 빌드) : 이전 빌드와 비교하여 변경 유무를 체크하고 필요한 부분만 재빌드하여 중복 작업을 방지합니다.

  - build cache : 이를 위해 local에 빌드 결과물을 캐싱합니다.

    

[참고]

[techopedia - build tool](https://www.techopedia.com/definition/16359/build-tool)

[Technology Conversations - Java Build Tools](https://technologyconversations.com/)